<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>K00209777_Contact_Manager_Repeat_Project</title>
	<script>
		function edit_row(no)
			{
				document.getElementById("edit_button"+no).style.display="none";
				document.getElementById("save_buton"+no).style.display="block";
				
				var fname=document.getElementById("firstName_row"+no);
				var lname=document.getElementById("lastName_row"+no);
				var age=document.getElementById("age_row"+no);
				var tphone=document.getElementById("tphone_row"+no);
				var email=document.getElementById("email_row"+no);
				
				var fname_data=fname.innerHTML;
				var lname_data=lname.innerHTML;
				var age_data=age.innerHTML;
				var tphone_data=tphone.innerHTML;
				var email_data=email.innerHTML;
				
				fname.innerHTML="<input type='text' id='fname_text"+no+"' value='"+fname_data+"'>";
				lname.innerHTML="<input type='text' id='lname_text"+no+"' value='"+lname_data+"'>";
					//Potential break with type=text<might have to make it date>//
				age.innerHTML="<input type='text' id='age_text"+no+"' value='"+age_data+"'>";
					//Same as above might need to make this type=number//
				tphone.innerHTML="<input type='text' id='tphone_text"+no+"' value='"+tphone_data+"'>";
					//type=text might have to change to type=email if broken//
				email.innerHTML="<input type='text' id='email_text"+no+"' value='"+email_data+"'>";
			}
		
		function save_row(no)
			{
				var fname_val=document.getElementById("fname_text"+no).value;
				var lname_val=document.getElementById("lname_text"+no).value;
				var age_val=document.getElementById("age_text"+no).value;
				var tphone_val=document.getElementById("tphone_text"+no).value;
				var email_val=document.getElementById("email_text"+no).value;
				
				document.getElementById("firstName_row"+no).innerHTML=fname_val;
				document.getElementById("lastName_row"+no).innerHTML=lname_val;
				document.getElementById("age_row"+no).innerHTML=age_val;
				document.getElementById("tphone_row"+no).innerHTML=tphone_val;
				document.getElementById("email_row"+no).innerHTML=email_val;
				
				document.getElementById("edit_button"+no).style="block";
				document.getElementById("save_buton"+no).style="none";
			}
		
		function delete_row(no)
			{
				document.getElementById("row"+no+"").outerHTML="";
			}
		
		function add_row()
			{
				var new_fname=document.getElementById("new_firstName").value;
				var new_lname=document.getElementById("new_lastName").value;
				var new_age=document.getElementById("new_age").value;
				var new_tphone=document.getElementById("new_tphone").value;
				var new_email=document.getElementById("new_email").value;
				
				var table=document.getElementById("data_table");
				var table_len=(table.rows.length)-1;
				var row= table.insertRow(table_len).outerHTML="<tr id='row"+table_len"'><td id='firstName_row1"+table_len+"'>"+new_fname+"</td><td id='lastName_row1"+table_len+"'>"+new_lname+"</td>
				
			}
		
		function sortTable(n) {
  			var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
  				table = document.getElementById("data_table");
  				switching = true;
  			// Set the sorting direction to ascending:
  				dir = "asc"; 
			/* Make a loop that will continue until	no switching has been done: */
				while (switching) {
    		// Start by saying: no switching is done:
    			switching = false;
    			rows = table.rows;
			/* Loop through all table rows (except the first, which contains table headers): */
    			for (i = 1; i < (rows.length - 1); i++) {
      		// Start by saying there should be no switching:
      			shouldSwitch = false;
			/* Get the two elements you want to compare,one from current row and one from the next: */
      			x = rows[i].getElementsByTagName("TD")[n];
      			y = rows[i + 1].getElementsByTagName("TD")[n];
      		/* Check if the two rows should switch place, based on the direction, asc or desc: */
      			if (dir == "asc") 
				{
        			if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) 
					{
          	// If so, mark as a switch and break the loop:
				shouldSwitch = true;
          		break;
        			}
				} 
				
				else if (dir == "desc") {
        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
          // If so, mark as a switch and break the loop:
          shouldSwitch = true;
          break;
        }
      }
    }
	if (shouldSwitch) {
      /* If a switch has been marked, make the switch
      and mark that a switch has been done: */
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
      // Each time a switch is done, increase this count by 1:
      switchcount ++; 
    } else {
      /* If no switching has been done AND the direction is "asc",
      set the direction to "desc" and run the while loop again. */
      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
		 }
    }
  }
} 		  
	</script>
</head>

<body>
	<div id="wrapper">
		<table align="center" cellspacing="5" cellpadding="10" id="data_table" border="5">
			<tr>
			<th onClick="sortTable(0)">First Name</th>
			<th onClick="sortTable(1)">Last Name</th>
			<th onClick="sortTable(2)">Date of Birth</th>
			<th onClick="sortTable(3)">Telephone Number</th>
			<th onClick="sortTable(4)">Email Address</th>
			</tr>
			
			<tr id="row1">
			<td id="firstName_row1">Conal</td>
			<td id="lastName_row1">Conroy</td>
			<td id="age_row1">21</td>
			<td id="tphone_row1">0874435582</td>
			<td id="email_row1">Conal@gmail.com</td>
			<td>
				
			<input type="button" id="edit_button1" value="Edit" class="edit" onClick="edit_row('1')">
			<input type="button" id="save_buton1" value="Save" class="save" onClick="save_row('1')">
			<input type="button" id="delete_button1" value="Delete" class="delete" onClick="delete_row('1')">
			</td>
			</tr>
			
			
			<tr id="row2">
			<td id="firstName_row2">Ryan</td>
			<td id="lastName_row2">Jenkins</td>
			<td id="age_row2">50</td>
			<td id="tphone_row2">088456698</td>
			<td id="email_row2">RyanJenkins@gmail.com</td>
			<td>
				
			<input type="button" id="edit_button2" value="Edit" class="edit" onClick="edit_row('2')">
			<input type="button" id="save_buton2" value="Save" class="save" onClick="save_row('2')">
			<input type="button" id="delete_button2" value="Delete" class="delete" onClick="delete_row('2')">
			</td>
			</tr>
			
			
			<tr id="row3">
			<td id="firstName_row3">Emily</td>
			<td id="lastName_row3">O' Reilly</td>
			<td id="age_row3">34</td>
			<td id="tphone_row3">0835512398</td>
			<td id="email_row3">EmilyOR@gmail.com</td>
			<td>
				
			<input type="button" id="edit_button3" value="Edit" class="edit" onClick="edit_row('3')">
			<input type="button" id="save_buton3" value="Save" class="save" onClick="save_row('3')">
			<input type="button" id="delete_button3" value="Delete" class="delete" onClick="delete_row('3')">
			</td>
			</tr>
			
			<td><input type="text" id="new_firstName" placeholder="Insert First Name Here"></td>
			<td><input type="text" id="new_lastName" placeholder="Insert Last Name Here"></td>
			<td><input type="date" id="new_age" placeholder="Enter Date of Birth Here"></td>
			<td><input type="number" id="new_tphone" placeholder="Enter Contact Number"></td>
			<td><input type="email" id="new_email" placeholder="Enter Email Address Here"></td>
			
			<td><input type="button" class="add" onClick="add_row();" value="Add Row"></td>
			
		</table>
		
	
	</div>
</body>
</html>
